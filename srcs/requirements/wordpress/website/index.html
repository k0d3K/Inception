<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Inception - Docker-based WordPress Project</title>
  <style>
    body {
      font-family: Consolas, Monaco, 'Courier New', monospace;
      background-color: #121212;
      color: #e0e0e0;
      max-width: 900px;
      margin: 2rem auto;
      padding: 0 1rem;
      line-height: 1.6;
    }
    h1, h2, h3 {
      color: #4fc3f7;
    }
    a {
      color: #81d4fa;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    pre {
      background-color: #1e1e1e;
      color: #cfcfcf;
      padding: 1rem;
      border-radius: 5px;
      overflow-x: auto;
      font-size: 0.95rem;
    }
    blockquote {
      border-left: 4px solid #4fc3f7;
      padding-left: 1rem;
      color: #ccc;
      margin: 1rem 0;
      background-color: #1c1c1c;
      font-style: italic;
    }
    ul {
      padding-left: 1.5rem;
    }
    hr {
      border: none;
      border-top: 1px solid #333;
      margin: 2rem 0;
    }
    code {
      background: #1f1f1f;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      color: #e1f5fe;
    }
    .emoji {
      font-size: 2.2rem;
      margin-right: 0.3rem;
    }
  </style>
</head>
<body>
  <h1>Inception</h1>
  <blockquote>
    A Docker-based project to set up a fully functional WordPress website with Nginx, MariaDB, and PHP-FPM ‚Äî as required by the 42 Inception project.
  </blockquote>

  <h2><span class="emoji"></span>üß©</span> Overview</h2>
  <p>This project automates the deployment of a WordPress site using Docker containers. It includes:</p>
  <ul>
    <li><strong>Nginx</strong>: Web server with HTTPS enabled via a self-signed certificate.</li>
    <li><strong>MariaDB</strong>: Lightweight and fast database server.</li>
    <li><strong>WordPress</strong>: Content management system.
      <ul>
        <li><strong>PHP-FPM</strong>: To serve dynamic content.</li>
        <li><strong>WP-CLI</strong>: For headless WordPress configuration.</li>
      </ul>
    </li>
  </ul>
  <p>Everything is orchestrated via <code>docker-compose</code> and managed using a <code>Makefile</code>.</p>

  <hr />

  <h2><span class="emoji">üöÄ</span> Quick Start</h2>

  <h3><span class="emoji">‚ö†Ô∏è</span> Prerequisites</h3>
  <p>Before running the project, make sure the following tools are installed:</p>
  <ul>
    <li><a href="https://docs.docker.com/get-docker/" target="_blank">Docker</a></li>
    <li><a href="https://docs.docker.com/compose/install/" target="_blank">Docker Compose</a></li>
    <li><code>make</code> utility</li>
    <li>root privileges</li>
  </ul>
  <p>Your user must also be in the <code>docker</code> group. If not, run:</p>
  <pre><code>sudo usermod -aG docker $USER</code></pre>
  <blockquote>üîÑ Note: After adding your user to the <code>docker</code> group, a logout/login is required for the change to apply.</blockquote>

  <h3><span class="emoji">üí°</span> Recommendation</h3>
  <p>It is strongly recommended to use a dedicated Virtual Machine for this project.<br />
  Set the VM‚Äôs username to match the domain name you plan to use (e.g., <code>lguerbig</code> for <code>lguerbig.42.fr</code>).</p>

  <hr />

  <h3><span class="emoji">üõ†Ô∏è</span> Setup & Launch</h3>
  <p>Add the following to your <code>/etc/hosts</code> file:</p>
  <pre><code>127.0.0.1 &lt;your-login&gt;.42.fr</code></pre>
  <p>Edit the file with:</p>
  <pre><code>sudo nano /etc/hosts</code></pre>
  <p>Then in the project root, run:</p>
  <pre><code>make</code></pre>
  <p>This will:</p>
  <ul>
    <li>Print a cool ASCII logo üòé</li>
    <li>Build the container images</li>
    <li>Create volumes under <code>/home/&lt;your-login&gt;/data/</code></li>
    <li>Start all containers in the background</li>
  </ul>

  <h3><span class="emoji">üîê</span> HTTPS Certificate</h3>
  <p>This project uses a self-signed certificate. Your browser may warn you when visiting:</p>
  <pre><code>https://&lt;your-login&gt;.42.fr</code></pre>
  <p>Admin login:</p>
  <pre><code>https://&lt;your-login&gt;.42.fr/wp-admin</code></pre>

  <hr />

  <h2><span class="emoji">üß†</span> Quick explanations</h2>

  <h3>What is Docker?</h3>
  <p>Docker is a platform that packages applications into containers‚Äîisolated environments containing everything needed to run them. It ensures consistency and portability across systems.</p>

  <h3>What is Docker Compose?</h3>
  <p>Docker Compose runs multiple containers using a single config file (<code>docker-compose.yml</code>).</p>
  <p>Without it, you'd manually run containers using <code>docker run</code> with many flags. It's tedious.</p>
  <p>With it, one <code>docker-compose up</code> starts everything defined in the YAML file.</p>

  <h3>Containers used in this project</h3>
  <ul>
    <li><strong>Nginx:</strong> Handles requests, serves static files, and manages HTTPS.</li>
    <li><strong>MariaDB:</strong> Stores WordPress data.</li>
    <li><strong>WordPress with PHP-FPM:</strong> Runs WordPress, connects to the DB.</li>
    <li><strong>Redis (bonus):</strong> Memory-based cache to improve performance.</li>
    <li><strong>FTP server (bonus):</strong> Allows file transfer in/out of the container.</li>
    <li><strong>Adminer (bonus):</strong> Web-based DB management interface.</li>
    <li><strong>Glances (bonus):</strong> Real-time performance monitoring dashboard.</li>
  </ul>

  <hr />

  <h2><span class="emoji">‚úÖ</span> Test everything</h2>

  <h3><span class="emoji">üåê</span> Manda</h3>
  <p>Access the site in Firefox and accept the self-signed certificate:</p>
  <ul>
    <li>Click "Advanced..."</li>
    <li>Then "Accept the Risk and Continue"</li>
  </ul>
  <p>To access MySQL manually:</p>
  <pre><code>docker exec -it mariadb bash
mysql -u&lt;user&gt; -p&lt;password&gt;
SHOW DATABASES;
USE wordpress;
SHOW TABLES;
</code></pre>

  <h3>Redis cache system</h3>
  <p>Ping the Redis container:</p>
  <pre><code>docker exec -it redis sh
redis-cli -h redis ping</code></pre>
  <p>Should return: <code>PONG</code></p>

  <h3>FTP Server</h3>
  <p>Access using:</p>
  <pre><code>ftp localhost 21</code></pre>
  <p>Login as <code>&lt;your-login&gt;</code>, password: <code>1234</code> (from <code>.env</code>).</p>
  <p>Download:</p>
  <pre><code>get &lt;filename&gt;</code></pre>
  <p>Upload:</p>
  <pre><code>put &lt;filename&gt;</code></pre>
  <p>List files:</p>
  <pre><code>ls</code></pre>

  <h3>Adminer</h3>
  <p>Visit:</p>
  <pre><code>https://&lt;your-login&gt;.42.fr/adminer</code></pre>
  <p>Login with:</p>
  <ul>
    <li>System: MySQL</li>
    <li>Server: mariadb</li>
    <li>Username: &lt;your-login&gt;</li>
    <li>Password: 1234</li>
    <li>Database: wordpress</li>
  </ul>

  <h3>Glances</h3>
  <p>Visit:</p>
  <pre><code>https://&lt;your-login&gt;.42.fr/glances</code></pre>
  <p>Monitor your stack in real-time.</p>

  <h3>Static Web Page</h3>
  <p>To view this README in your browser:</p>
  <pre><code>https://&lt;your-login&gt;.42.fr/index.html</code></pre>

  <hr />

  <h3><span class="emoji">üë®‚Äçüíª</span> Author</h3>
  <ul>
    <li>lguerbig</li>
  </ul>

  <p>üö¢ Welcome to the Docker world!</p>
</body>
</html>
